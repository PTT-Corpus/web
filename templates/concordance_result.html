{% extends 'base.html' %}
{% load paging %}

{% block extra_css %}
<style>
em {
  color: red;
  font-weight: bold;
}
</style>
{% endblock extra_css %}

{% block main_title %}
Concordance
{% endblock main_title%}

{% block main_content %}
<br>
<h5>Total Counts: {{ data.total }}</h5>
<hr>
<div class="col s12 m12">
  {% for d in data.data %}
    <div class="row">{{ d.concordance | safe }}</div>
{% endfor %}
</div>
{% paginator as pages %}
{% paging_prev as pp %}
{% paging_next as pg %}
<ul class="pagination">
  <li class="{% if pp is None %}disabled{% else %}waves-effect{% endif %}">
    <a href="javascript:;" onclick="paginator({{ pp }})"><i class="material-icons">chevron_left</i></a>
  </li>
  {% for page in pages %}
    <li class="waves-effect {% if data.page == page %}active{% endif %}">
      <a href="javascript:;" onclick="paginator({{ page }});">{{ page|add:1 }}</a>
    </li>
  {% endfor %}
  <li class="{% if pg is None %}disabled{% else %}waves-effect{% endif %}">
    <a href="javascript:;" onclick="paginator({{ pg }})"><i class="material-icons">chevron_right</i></a>
  </li>
</ul>

<form method="post" class="hide" id="_form">
  {% csrf_token %}
  {{ form }}
</form>
{% endblock main_content %}

{% block extra_js %}
<script>
function paginator(page) {
  document.getElementById("{{ form.page.auto_id }}").value = page;
  document.getElementById("_form").submit();
};
</script>
{% endblock extra_js %}
