{% load static %}
{% load socialaccount %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8"/>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css?family=Cinzel:400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700" rel="stylesheet">
    <script
            src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
            crossorigin="anonymous">

    </script>
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css"
          media="screen,projection"/>

    <!-- Fontawesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- custom style -->
    <link type="text/css" rel="stylesheet" href="{% static 'css/style.css' %}"/>
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    {% block extra_css %}
    {% endblock extra_css %}
</head>

<body>
<!-- Login Modal -->
<div id="login-modal" class="modal">
    <div class="modal-content center-align">
        <img src="{% static 'images/logo2.jpg' %}"/>
        <div class="section">
            <h4>Login</h4>
            <div class="section">

                <div class="row github valign-wrapper" style="padding: 1em 0">
                    <div class="col s3"><i class="fa fa-github"></i></div>
                    <div class="col s9">
                        <a style="color: white;" href="{% provider_login_url 'github' %}">Sign in with Github</a></div>
                </div>
                <div class="row google valign-wrapper" style="padding: 1em 0">
                    <div class="col s3"><i class="fa fa-google"></i></div>
                    <div class="col s9">
                        <a style="color: white;" href="{% provider_login_url 'google' %}">Sign in with Google</a></div>
                </div>
                <div class="row facebook valign-wrapper" style="padding: 1em 0">
                    <div class="col s3"><i class="fa fa-facebook"></i></div>
                    <div class="col s9">
                        <a style="color: white;" href="{% provider_login_url 'facebook' method="oauth2" %}">Sign in with
                            Facebook</a></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Register Modal -->
<div id="reg-modal" class="modal">
    <div class="modal-content center-align">
        <img src="{% static 'images/logo2.jpg' %}"/>
        <div class="section">
            <h4>Register</h4>
            <div class="section">
                <div class="row github valign-wrapper" style="padding: 1em 0">
                    <div class="col s3"><i class="fa fa-github"></i></div>
                    <div class="col s9">
                        <a style="color: white;" href="{% provider_login_url 'github' %}">Register with Github</a></div>
                </div>
                <div class="row google valign-wrapper" style="padding: 1em 0">
                    <div class="col s3"><i class="fa fa-google"></i></div>
                    <div class="col s9">
                        <a style="color: white;" href="{% provider_login_url 'google' %}">Register with Google</a></div>
                </div>
                <div class="row facebook valign-wrapper" style="padding: 1em 0">
                    <div class="col s3"><i class="fa fa-facebook"></i></div>
                    <div class="col s9">
                        <a style="color: white;" href="{% provider_login_url 'facebook' method="oauth2" %}">Register
                            with
                            Facebook</a></div>
                </div>
            </div>
        </div>
    </div>
</div>
<header>
    {% include 'sidenav.html' %}
</header>
<main>
    <div class="row">
        <div class="col s12">
            <h3>
                {% block main_title %}
                {% endblock main_title %}
            </h3>
            {% block main_content %}
            {% endblock main_content %}
        </div>

    </div>

</main>
<footer>
    <div class="footer-copyright">
        <p style="margin-left: 20px">本著作係採用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/tw/">創用
            CC 姓名標示-非商業性-相同方式分享 3.0 台灣 授權條款</a>授權<br><a href="http://lope.linguistics.ntu.edu.tw/LOPEN/"
                                                        target="_blank">LOPEN Project 語言,本體資源與知識開放計劃</a> | <a
                href="/copens">Corpora Open and Search (COPENS) 開放語料庫與搜尋工具</a>
        </p>
    </div>
</footer>
<!--JavaScript at end of body for optimized loading-->
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script>
<script>
    // sidenav
    document.addEventListener('DOMContentLoaded', function () {
        var elems = document.querySelectorAll('.sidenav');
        var options = {
            preventScrolling: false,
        };
        var instances = M.Sidenav.init(elems, options);
        // console.log(instances)
    });
    var nav_items = document.querySelectorAll('.sidenav li a');
    var array_of_nav_string = [].slice.call(nav_items)
        .map(function (n) {
            var str = n.href.trim();
            return str.substring(str.lastIndexOf("/") + 1, str.length);
        });

    var current_path = window.location.pathname.split('/').reverse()[0];
    var index = array_of_nav_string.indexOf(current_path);
    nav_items[index].parentNode.classList.add('active');


    // for login & registration modal
    document.addEventListener('DOMContentLoaded', function () {
        var sidenav = document.querySelectorAll('.sidenav');
        var options = {
            preventScrolling: false,
        };
        var instance_sidenav = M.Sidenav.init(sidenav, options);

        // login modal
        var modal = document.querySelectorAll('.modal');
        var instance_modal = M.Modal.init(modal);
        // console.log(modal);
        // console.log(instance_modal);
    });

    $(document).ready(function() {
        {% if messages %}
        {% for message in messages %}
        M.toast({html: '{{ message }}',
        classes: 'rounded grey'});
        {% endfor %}
        {% endif %}
    })
</script>


{% block extra_js %}
{% endblock extra_js %}

</body>

</html>
